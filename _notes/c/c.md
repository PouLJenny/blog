# C语言学习

[wiki](https://en.wikipedia.org/wiki/The_C_Programming_Language '')

结构化编程

## History

Ken Thompson 
Dennis Ritchie

- 1969 K 用汇编语言写了UNIX系统
- 1969 K 设计了B语言，衍生自 BCPL
- 1970 K & R 用B语言重写的UNIX
- 1971 R 在B语言的基础上设计了NB（New B）语言，后来改名为C
- 1973 K & R 用C语言重写的UNIX系统
- 1978 K & R 出版了书 The C Programming Language
- C89/C90 C标准的定制工作交给了ISO来处理
- C99
- C11
- C17
- C2x

## 数据类型
C语言的基本数据类型及其所占内存可以根据C语言标准来确定。下面是C语言中常见的基本数据类型及其所占内存的典型大小（**取决于具体的编译器和操作系统**）：

**整型类型（整数类型）**：

- char：1字节
- unsigned char：1字节
- short：2字节
- unsigned short：2字节
- int：通常为4字节（32位系统）或8字节（64位系统）
- unsigned int：通常为4字节（32位系统）或8字节（64位系统）
- long：4字节（32位系统）或8字节（64位系统）
- unsigned long：4字节（32位系统）或8字节（64位系统）
- long long：8字节
- unsigned long long：8字节

**浮点类型**：

- float：4字节
- double：8字节
- long double：通常为8字节或16字节

**指针类型**：

指针的大小取决于系统的位数，通常为4字节（32位系统）或8字节（64位系统）
枚举类型：


通常和int类型具有相同的大小，即4字节（32位系统）或8字节（64位系统）
需要注意的是，这些大小是典型值，实际的大小可能因编译器、操作系统和平台的不同而有所变化。可以使用sizeof运算符来获取在特定系统上的数据类型大小。

另外，还有一些修饰符（如`signed`、`unsigned`、`short`、`long`等）可以与基本数据类型结合使用，来表示不同的取值范围和符号性质。这些修饰符的具体含义也可能因编译器和操作系统的不同而有所变化。

## \_\_attribute__ ((\_\_packed\_\_))
在C语言中，`__attribute__ ((__packed__))`是GCC编译器提供的一个特殊属性（attribute）。这个属性用于告诉编译器以最小的内存对齐方式来对结构体或联合体进行内存布局，即取消对结构体或联合体进行默认的对齐操作。

在默认情况下，编译器会根据平台和数据类型的大小进行内存对齐操作，以提高内存访问的效率。这意味着结构体或联合体的成员可能会在内存中存在填充字节，以满足对齐的要求。而使用`__attribute__ ((__packed__))`属性可以取消这种对齐，让结构体或联合体的成员按照其声明的顺序连续存储，减少内存的浪费。

使用`__attribute__ ((__packed__))`的语法示例：
```c
struct __attribute__((__packed__)) MyStruct {
    int a;
    char b;
    short c;
};
```
在上面的示例中，MyStruct结构体的成员将按照声明的顺序连续存储，没有额外的填充字节。

需要注意的是，使用`__attribute__ ((__packed__))`可能会导致性能下降，因为无对齐的内存访问可能会导致效率降低。此外，该属性是GCC编译器特有的，并不属于C语言标准的一部分，因此在使用时需要注意编译器的兼容性。




