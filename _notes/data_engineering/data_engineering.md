# 数据工程


## 数据血缘关系

数据血缘关系图（Data Lineage Diagram）是一种用于描述数据从源头到最终用途的整个生命周期的图表，它展示了数据在不同处理阶段之间的关系和转换过程。这种图表对于理解数据的来源、加工方式、映射关系以及数据出口至关重要，有助于企业更好地管理数据资产，确保数据质量和安全。以下是关于数据血缘关系图的相关信息：

### 个人对数据血缘关系图的期望

对数据血缘关系图的期望是，
1. 是一个有向无环图
2. 可以查询字段级别的血缘关系
3. 可以查询各种数据库的表的流转关系，比如mysql、postgresql、clickhouse、tablestore等
4. 可以切换表视角和字段视角，由于某些大宽表字段过多，切换成表视角方便查询

### 绘制和查询数据血缘关系图的工具

- [sqlflow](https://sqlflow.gudusoft.com/#/)： 可跟踪超过20种主要数据库的字段级数据血缘，支持从查询历史记录、ETL脚本等创建和可视化血缘关系。
- dbt：一个开源的数据转换工具，通过其模型、测试和文档功能，自动记录数据的依赖关系和转换过程，从而生成数据血缘图。
- Informatica：提供元数据血缘管理功能，帮助用户了解数据在整个系统中的流向和变化。
- [Neo4j](/database system/neo4j)：一种图数据库，可以用于实现数据血缘关系，通过图数据库的查询语言Cypher来查询和分析数据。
- Spline：可以收集数据血缘关系，并将其可视化为数据流图。
- [Apache Atlas](https://atlas.apache.org/#/Architecture)：开源工具，提供元数据管理功能，用于识别、分类和管理数据资源，包括数据资源的标记和分类、数据资源间关系的建立、数据资源血缘关系的维护等。
- 马哈鱼数据血缘平台：商业工具，支持多种机器学习框架，并提供可视化的工具来帮助用户分析和理解数据。
- Datablau SQLink数据链路监测平台：商业工具，依托于Datablau数据治理产品，拥有较高的SQL解析准确率和覆盖率。
- Amundsen： 由Lyft开源的数据发现和血缘管理工具。支持自动构建血缘关系，展示数据的流向。
- OpenLineage： 由Datakin开源的元数据和血缘追踪工具，专注于数据流任务的血缘关系跟踪。
- Marquez： 开源的数据血缘和元数据管理工具，由WeWork开发。
- Metacat： Netflix开源的元数据管理和血缘关系工具。


### 数据血缘关系图的优势

- 提升问题解决效率：通过数据血缘分析，可以大大提升排查效率，特别是数据血缘的可视化，能让用户自主对数据来源以及链路进行检查。
- 数据变更影响范围快速评估：数据血缘能够提供的两个价值点分别是提升问题解决效率和高效评估数据影响。
- 数据治理：数据血缘是数据治理的重要组成部分，它帮助组织管理数据资产，确保数据的准确性和一致性。
- 数据质量保障：通过数据血缘，可以快速追溯问题数据的来源和流经路径，精准定位问题产生的环节。
- 数据安全与合规：数据血缘能够追踪敏感数据的流向和使用情况，确保其在合规的范围内被使用和处理。
- 数据资产管理：数据血缘揭示了数据的产生过程和使用场景，有助于评估数据的价值。
- 业务流程优化：数据血缘反映了业务流程中数据的流动和转换关系，帮助企业深入了解业务流程的运行状况。