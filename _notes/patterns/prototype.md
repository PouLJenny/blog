---
layout: post
title:  "23种设计模式-原型模式"
date:   2024-03-07 14:36:00 +0800
categories: 设计模式
tags: 设计模式
permalink: /patterns/prototype
published: false
publish_file: 2024-03-07-patterns-prototype.md
toc: true
---
# Prototype模式 原型模式

## Intent/目的

使用原型实例创建指定种类的对象，通过复制原来的对象来创建新的对象。

## Motivation/动机

你可以使用通用框架构建一个乐谱图形化编辑器，添加新的对象来代表音符、休止符和五线谱。编译器框架应该有一个工具的调色板用来添加新的音乐元素到乐谱上。调色板也需要包含工具的选择、移动还有其他的自定义音乐对象。用户可以点击四分音符的工具，添加一个四分音符到乐谱上。或者用户也可以通过移动工具来控制音符的上下移动。



## Applicability/应用场景

## Structure/结构

## Participants/角色

## Consequences/总结

## Related Patterns/相关的模式


原型设计模式

## What 
Prototype（原型）是一种创建型设计模式，它允许通过复制现有对象来创建新对象，而无需知道其具体实现细节。

## Why

这种模式通常用于创建成本较高的对象，或者需要避免与其他部分耦合度过高的情况。

在Prototype模式中，存在一个原型对象，该对象是要被复制的对象。通过复制这个原型对象，我们可以创建新的对象，而无需从头开始重新构建。通常，原型对象实现一个克隆方法，该方法能够返回一个新的对象，其中的数据与原型对象相同。

总的来说，Prototype模式能够帮助我们以更灵活的方式创建对象，尤其适用于需要大量创建相似对象或者避免构建成本高昂对象的情况。

## Where
Prototype模式在以下情况下特别有用：

当一个对象的创建成本较高，但是需要创建多个相似的对象时，可以使用Prototype模式，避免重复创建成本高昂的对象。
当一个系统需要独立于其组成部分并且相互之间的交互较少时，可以使用Prototype模式来简化对象之间的创建和管理。

## How to do 
Prototype模式的实现可以采用两种方式：基于原型类的复制和基于原型对象的复制。

基于原型类的复制是指在对象层面上实现复制方法，该方法能够创建一个与调用对象相同的新对象，通常需要重写克隆方法。在基于原型对象的复制中，对象本身负责克隆自己，而不是通过一个专门的克隆方法。这种方法更加灵活，因为对象本身知道如何复制自己。


