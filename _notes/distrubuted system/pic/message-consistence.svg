<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1055px" height="447px" viewBox="-0.5 -0.5 1055 447" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2023-05-19T02:28:04.984Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/21.2.8 Chrome/112.0.5615.165 Electron/24.2.0 Safari/537.36&quot; etag=&quot;FI4XCQqfr4sE8KRUGT_C&quot; version=&quot;21.2.8&quot; type=&quot;device&quot; pages=&quot;4&quot;&gt;&lt;diagram id=&quot;cUa8sUBUimwSFffYk4Fa&quot; name=&quot;XA&quot;&gt;1ZdRb5swEMc/DdL2sClgkiWPKU3bh2WbklTtHl3wgMnYyDkS6KefCUeAOY2ySQ3JE3d/n7H9s48zFvGS/F7RNJrLgHHLGQS5RW4tx7HtiasfpVJUytidVEKo4gCDGmEZvzIUB6hmccDWnUCQkkOcdkVfCsF86GhUKbnthv2SvDtqSkNmCEufclN9igOIKtUhZNI0PLA4jHBoQgY484TW0SisIxrIbUsiM4t4SkqorCT3GC/p1WCqfndvtO5nppiAUzq8rh6/LQWACBZ3+eM0eph+H3/C7dlQnuGKcbJQ1AhYoImgKxVEMpSC8lmj3iiZiYCVwwy018R8lTLVoq3F3wygwO2lGUgtRZBwbDWXgqtby0z57Mj8cbpAVcjgSByp4sq1tAZAUPdMJgxUoQMU4xTiTXf3KR6icB/XYNYGkv4H6o5BffrDckZcr+DmRWkrLK0P0zTlsa/nI8VHY1u2UQxsmdIdnq3OvhORbpgClh+FULfWJxdz1yXob5tM2MdErSQYDd6Lm21gOMPpZHkMzy37Z/mqz84Q3dscX71zitoResHPbafqNqzdptvOq/v9fyqQE1NheFmp0MsH53J3x3Yva3vI5WTcl2vNOPuyUo4Y1Wc1P1B9VoqKNfXL6qOj51Toq47qow65p9Sh0Tnr0NAguDhEcMHwCPWKb0y6+EjvZdw2T6B3EKAnkyQTeAXSHUyg2uqDqfMXU3tiMnXcszI1b/JXdCb7v1raV53Tw3fkp93mJ3XX1vrXJ7M/&lt;/diagram&gt;&lt;diagram id=&quot;syysYK5LyLZK14U9HVHy&quot; name=&quot;本地消息表&quot;&gt;5VrbcqM4EP0aPWYKIcDwCDbJXjI12WSrkpmXLWxkmwm2vBgndr5+WkKYm8ohXmyzM1WpRGpdiLpPn25dEBkutjdJsJp/ZiGNka6FW0RGSNcxdgz4wyW7TGIbTiaYJVEoOxWCh+iNSqEmpZsopOtKx5SxOI1WVeGELZd0klZkQZKw12q3KYurX10FM9oQPEyCuCl9jMJ0nkl1Qpyi4Tcazeby04Ro8j9fBHlvKVjPg5C9lkTER2SYMJZmpcV2SGOuvVwx+j9/zJaDm8dHdvPlz9+D7dd/7++vssmuPzJkv4aELtNup5bWfQnijVSYXGu6yzUIy17x4mQXR8uQJoh4r/MopQ+rYMLlrwAckM3TRQw1DMUx20DH8Ha8FwST51nCpV82KcxCpbzluuT6X2iS0m3JrHKdN5QtaJrsoItsJbnJJGiJI+uvBQSwJWXzkvWxIYWBhN1sP3ehWShI5X5A0eb7iqYhIFdWWZLO2Ywtg9gvpF6SKRbaNagVfW4ZW0mVfqdpupNuGGxSVrXMxxS+ZptkQg/0k2tIg2RGD80nUcYXeNB8CY2DNHqpum7npsCDpi18E9nwYyPfQvY1cnKJayLfQJ6NHFdIXORi5Nv8t2vDHEIIQ0aqgRbyrHxO6H9dGqgw/W0wBu6tmCuIo9mSux6YSzged4EIyM2VDYsoDDNk0HX0FozFfBwbKxYtU6E400PmqL3pc5zWfW3P0PIjFQ5U+eCV9kknmlxqa8PK6e74v1/qwqbTNSCsbvn9V48Hg/MLuaHdLzd0FG4ILkO4g0i3GkrvszVZcF0P+QPeycsKHnKu+TDHFg5mIqB61xISItwSho2QM+RNri9mFD4J3WA4eLVtiALMg/Phw0tgAqCQ7J7keFH5yiufzLw62pYbRztZuxCWcFswSToANnAGpBKV8xTxY+TgJkmwK3WQTNfkDvlhQ6vmAo5WQ2424SmJ515zzFvtLrbmk+9v6ebb3+x5fUUuArJtlD6VyhnEBqasFhDjlV0Zb09lmMph/URmv5INvUFyroLA6lB4J8E+Wd5sVH1F1xR5s67Im61Tpc34Z0iTSVtOxb2CLrY+licfSHcP58kHEuze5sk5MLtJlCtelzNYf5Pm/YnIZTKkWhw6c4bU2ps7T7ePyn+wRtonQF0BhDSYQ5W29yTqOYO+RT0V8bYnyUslD1ZVjYbZVKOt0KJ+Ki2qjnnaH8n0RYuKo8uzahFfhOs75my7JWeTXiVgdgPAn/9qGKNQNX7/ZP5UqLWsvlFonkv/ZDcbjllVdA9uNnAz2P8PopXj9CxaYcVVXP/DVUONZwxXymO1y+5M8rO0/ebkvFsT3DbO6V3HueOOZms7E4y73ZooAaKIC77DLxgccTAH2xLXVGLo7OcOh/DdzbGDPZBLPfaoIZ8rPyqqneyf/iQCN3Okb4w9U7oCe/SEI+vJkXXG3EiJIXWkcTzkGaIAUUdTxZ7SfRkEdU/csoHjQGtxpybivWJvD7pKT+c8nJLXGTvzqddpAhgYspjBvKMl42nZycxr4lpKZrS078lioHXRGIg/adipntDZBnknEIraHU0i0AAHw3+Mjkq1mC2DY+cXSEcFR6t2F2PKtxTXx/U/TTBVvGrK7tl5MAUmGQiWMPh5Hz/4yzcDfSHmevJqX5qZ1S+TCn0OxWsHmz9pAKEv3jy4gr1tkcNkfaAMozyf368AV/MNQ9bZR66SvffE3uD8X4jGa+8E9rReBsNZtzLN1IaOwYG5jSFb9YU7gYNlyBiJm7S9IfevZsQNG/ihjOsOLwAg7OYO8oKmRToJrbFlWtAyjeK4JJ9Op/pkckK7Yx3XibNpd6Mbu0O1eC6ccXDx6pr4PwA=&lt;/diagram&gt;&lt;diagram id=&quot;lVSYiCzOM5-IHXfc_VRN&quot; name=&quot;可靠消息最终一致性&quot;&gt;3VpdV+o6EP01edSV9DuPRUG9R+/xLte65/hYINBeC+GEoOCvv5M2bemHiEIBfaKZTtN2Zs/ekxRkXkyWVyKYhXd8yGJk4OESmZfIMIhpuPCjLKvUQi0zNYxFNNROheEhemXaiLV1EQ3ZvOQoOY9lNCsbB3w6ZQNZsgVC8Jey24jH5bvOgjGrGR4GQVy3/oqGMkythmnS4sQ1i8ahvrVpYv3kkyDz1oZ5GAz5y5rJ7CLzQnAu06PJ8oLFKnpZYBbX5MHF0c39z8ex+2/454n+Xp6lk/U+ckn+DoJN5aenvu2Go755dT1xVz+eezfk77vl6MxJp34O4oUOmH5XucoiyIYQUD3kQoZ8zKdB3C2sHcEX0yFTt8EwKnxuOZ+BkYDxPyblSqMjWEgOplBOYn12y/fTcZjzhRiwDS+l8yUDMWZyg5+d+qkXXAOLjt4V4xMmxQocBIsDGT2XERVoYI5zvyL2cKDD35wK669oerOcWn9+APB/9V9H5qKTv91BIw8BF6vf+vpk8KgG53Y2vFyun7xc6VH7GWuMEd53xpJLfSGC1ZrDjEdTOV+b+V4ZwEGzouHo59CcmDFEkf10xgIL+aN9Hh5GrVLvBVMJaITNbdAHIi+lOoij8RSOB5AyJsDwzISMgCl9fWISDYcpqtg8eg36yXwq2ToeMLndQfZlY/o3QVrdiC1LudB0r29SItRSIvVVZ/jcpLZbivqZlQ4/lusimZkLH43mALpq+X4sZZtQvU6uXQ91MPJM1HURtZDvoa6DqIM61K/l8SWMJHuYBUnlvIA870KatRy8GWsDl9FtWXr8UugnyTQxXJPOrCp2YcbGOBL7O6pU1g29p1LEOimZso4iU8tIJip1bth6+JjpEhwXIqUGmUbl2kaOqm0NeT6Mtu1Wc43c5RvI72wgsc6pkJhnnRyJHYWzTqS/M7blupPo7xy3Ah63srL6mP/O/WBzqMyGCoUadJCX1KNHkN87jd5wYz3spTnElml8seaQOF+JDwoBxthbV+BzSjKBfkOFYXDPRATxUsg6Jru0s3qs0YFVWR4SjCuikr6RvqyA1kd5ysakdCPqbeYpindxPwir1Ve5d//U6qSoAgW9I3UYdmWZZJItOwzXaqvF8I7LKAWJ5L354ToMe0sOcPfNATtlbIuF7TwMZupwsIojyJR4H/H9NKW3/dwQDJ7GSaJ/LiTMwloujeoOgu1tWRqEtFUa9BilsWeI7x26b8gX9UrZcz2vPEVaYzurl1VBiUs3y1HNXz9Xu1120x6ehTo+8mAdbCPPRz5RBz4YSbIyhgUxlDVOzvYQBSNFUABe4gYrZNpN+nQ48L9Uw07foIHP9OueQzSadwSr45QwcVYlkBb796YdkjoykuxSrC2014gMCOAoEpMt4fA9WUsnFJ8bLi5v9NO9IKXar1FCW6G16seh7D6NNHXIBaf7fq8hQj7pL+bHa6rzb+0Zx9v1zsFraBy8tvqGbPP9m3Vo1e1Rmx69QyNeA5+CrgITJhtbIJv0IifKmuBq6nUyfgXSpcmOdU9tWgPRUhf53URxaWJVYozV9F1XibHvZgeXu/AzxF+2p9SKrOcpb6up51LwJ3bBY642VqZcwaY1yBCzwmsNpZn/d2YdMsYeENP4wcQ8hjrmG2GlTTA3+yr1zpeozLP9RfKmT0yH3yjbKc/1FvyVA+7ZDMqpioAT2Qwi2/LpJz43wbD4z1naHBR/3TO7/wM=&lt;/diagram&gt;&lt;diagram id=&quot;UZoai0U6laxfIKrSwX9i&quot; name=&quot;可靠消息最终一致性2&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><path d="M 151 181 L 271 181 L 364.63 181" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 369.88 181 L 362.88 184.5 L 364.63 181 L 362.88 177.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 167px; margin-left: 252px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1. 发送待确认消息</div></div></div></foreignObject><text x="252" y="170" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">1. 发送待确认消息</text></switch></g><path d="M 91 226 L 91 349.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 91 354.88 L 87.5 347.88 L 91 349.63 L 94.5 347.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 277px; margin-left: 52px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">3 操作数据库</div></div></div></foreignObject><text x="52" y="280" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">3 操作数据库</text></switch></g><path d="M 151 211 L 271 211 L 364.63 211" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 369.88 211 L 362.88 214.5 L 364.63 211 L 362.88 207.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 227px; margin-left: 241px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">4.  步骤3成功发送已确认消息<br />失败则发送删除消息</div></div></div></foreignObject><text x="241" y="230" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">4.  步骤3成功发送已确认消息...</text></switch></g><rect x="31" y="166" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 196px; margin-left: 32px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">上游服务</div></div></div></foreignObject><text x="91" y="200" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">上游服务</text></switch></g><path d="M 431 226 L 431 349.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 431 354.88 L 427.5 347.88 L 431 349.63 L 434.5 347.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 287px; margin-left: 512px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">5.1 保存消息，状态为 已确认或删除</div></div></div></foreignObject><text x="512" y="290" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">5.1 保存消息，状态为 已确认或删除</text></switch></g><path d="M 401 226 L 401 291 L 395.5 291 L 395.5 353.98" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 395.5 359.23 L 392 352.23 L 395.5 353.98 L 399 352.23 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 278px; margin-left: 342px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">2. 保存消息，状态为 待确认</div></div></div></foreignObject><text x="342" y="281" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">2. 保存消息，状态为 待确认</text></switch></g><path d="M 491 196 L 561 196 L 624.63 195.2" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 629.88 195.13 L 622.93 198.72 L 624.63 195.2 L 622.84 191.72 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 177px; margin-left: 562px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">5.2 消息已确认状态下<br />发送消息给下游服务</div></div></div></foreignObject><text x="562" y="180" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">5.2 消息已确认状态下...</text></switch></g><rect x="371" y="166" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 196px; margin-left: 372px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">可靠消息服务</div></div></div></foreignObject><text x="431" y="200" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">可靠消息服务</text></switch></g><path d="M 751 196 L 781 196 L 874.63 196" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 879.88 196 L 872.88 199.5 L 874.63 196 L 872.88 192.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 187px; margin-left: 822px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">6. 下游服务监听到消息</div></div></div></foreignObject><text x="822" y="190" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">6. 下游服务监听到消息</text></switch></g><rect x="631" y="96" width="120" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 216px; margin-left: 632px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">MQ</div></div></div></foreignObject><text x="691" y="220" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">MQ</text></switch></g><path d="M 941 226 L 941 349.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 941 354.88 L 937.5 347.88 L 941 349.63 L 944.5 347.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 287px; margin-left: 992px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">7 修改数据库操作</div></div></div></foreignObject><text x="992" y="290" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">7 修改数据库操作</text></switch></g><path d="M 881 211 L 881 216 L 757.37 216" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 752.12 216 L 759.12 212.5 L 757.37 216 L 759.12 219.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 227px; margin-left: 822px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">8 ACK消息</div></div></div></foreignObject><text x="822" y="230" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">8 ACK消息</text></switch></g><path d="M 941 166 L 941 36 L 431 36 L 431 159.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 431 164.88 L 427.5 157.88 L 431 159.63 L 434.5 157.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 26px; margin-left: 671px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">9 通知可靠消息服务，消息处理完成，可靠消息把消息状态改为“已完成”</div></div></div></foreignObject><text x="671" y="29" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">9 通知可靠消息服务，消息处理完成，可靠消息把消息状态改为“已完成”</text></switch></g><rect x="881" y="166" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 196px; margin-left: 882px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">下游服务</div></div></div></foreignObject><text x="941" y="200" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">下游服务</text></switch></g><path d="M 41 371 C 41 362.72 63.39 356 91 356 C 104.26 356 116.98 357.58 126.36 360.39 C 135.73 363.21 141 367.02 141 371 L 141 411 C 141 419.28 118.61 426 91 426 C 63.39 426 41 419.28 41 411 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 141 371 C 141 379.28 118.61 386 91 386 C 63.39 386 41 379.28 41 371" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 404px; margin-left: 42px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">数据库</div></div></div></foreignObject><text x="91" y="407" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">数据库</text></switch></g><path d="M 381 371 C 381 362.72 403.39 356 431 356 C 444.26 356 456.98 357.58 466.36 360.39 C 475.73 363.21 481 367.02 481 371 L 481 411 C 481 419.28 458.61 426 431 426 C 403.39 426 381 419.28 381 411 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 481 371 C 481 379.28 458.61 386 431 386 C 403.39 386 381 379.28 381 371" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 404px; margin-left: 382px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">数据库</div></div></div></foreignObject><text x="431" y="407" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">数据库</text></switch></g><path d="M 891 371 C 891 362.72 913.39 356 941 356 C 954.26 356 966.98 357.58 976.36 360.39 C 985.73 363.21 991 367.02 991 371 L 991 411 C 991 419.28 968.61 426 941 426 C 913.39 426 891 419.28 891 411 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 991 371 C 991 379.28 968.61 386 941 386 C 913.39 386 891 379.28 891 371" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 404px; margin-left: 892px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">数据库</div></div></div></foreignObject><text x="941" y="407" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">数据库</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>